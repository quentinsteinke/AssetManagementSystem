{% extends "base.html" %}

{% block content %}
<div>
    <h1>Assets</h1>
    <a href="/add_asset">Add New Asset</a>
    <form action="/delete_assets" method="post">
        <div class="assets-container">
            {% for asset in assets %}
            <div class="asset-card">
                <!-- Checkbox for selecting the asset for deletion -->
                <input type="checkbox" name="selected_assets" value="{{ asset[0] }}">

                <!-- Display asset image -->
                <img src="{{ url_for('static', filename='assets/' ~ asset.AssetID ~ '/' ~ asset.FileName) }}" alt="{{ asset.AssetName }}" width="100">

                <div class="asset-card-title">
                    <a href="{{ url_for('view_asset', asset_id=asset[0]) }}">{{ asset[1] }}</a>
                    <!-- Dropdown Toggle Button -->
                    <button type="button" onclick="toggleDropdown({{ asset[0] }})">â–¼</button>

                </div>

                <!-- Dropdown content -->
                <div id="dropdown-{{ asset[0] }}" class="dropdown-content" style="display: none;">
                    <p>Type: {{ asset[2] }}</p>
                    <p>Version: {{ asset[3] }}</p>
                    <p>Last Modified Date: {{ asset[4] }}</p>
                    <p>Responsible Team Member: {{ asset[5] }}</p>
                    <p>Asset Status: {{ asset[6] }}</p>
                    <p>SVN Link: {{ asset[7] }}</p>
                    <p>Notes: {{ asset[8] }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
        <input type="submit" value="Delete Selected">
    </form>
    
    <script src="{{ url_for('static', filename='dropdown.js') }}"></script>
</div>
{% endblock %}
